@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================
   GLOBAL FONT SIZE CONTROL
   ─────────────────────────────────────────
   --html-font-size is the MASTER KNOB.
   Change it once to scale ALL Tailwind
   text-* classes (rem-based) everywhere:
   admin panel, POS, guest pages, etc.

   Default browser base = 16px.
   14–15px → slightly smaller overall.
   ========================================= */
:root {
    --html-font-size: 15px;
    /* ← change this to rescale the entire app */

    /* =========================================
       GLOBAL BUTTON DESIGN TOKENS
       ─────────────────────────────────────────
       Change these to restyle ALL .btn-* buttons
       across every layout at once.
       ========================================= */

    /* Shape */
    --btn-radius: 0.5rem;
    /* rounded-lg — change to 9999px for pill */
    --btn-radius-icon: 0.5rem;

    /* Size scale: xs / sm / md (default) / lg / xl */
    --btn-py-xs: 0.25rem;
    --btn-px-xs: 0.625rem;
    --btn-py-sm: 0.375rem;
    --btn-px-sm: 0.875rem;
    --btn-py: 0.5rem;
    --btn-px: 1.25rem;
    /* md = default */
    --btn-py-lg: 0.625rem;
    --btn-px-lg: 1.5rem;
    --btn-py-xl: 0.75rem;
    --btn-px-xl: 2rem;

    /* Typography */
    --btn-font-size: 0.875rem;
    /* text-sm */
    --btn-font-weight: 400;
    /* normal — not bold */

    /* Motion */
    --btn-transition: all 0.15s ease;

    /* ── POS Component Token Scale ──────────
       These control the custom pos-* classes
       (pos-text-responsive-*, pos-btn-responsive,
       pos-input-responsive) independently of
       the Tailwind rem scale above.
       ─────────────────────────────────────── */

    /* Mobile (default < 640px) */
    --fs-xs: 7px;
    --fs-sm: 8px;
    --fs-base: 8px;
    --fs-lg: 9px;
    --fs-xl: 0.75rem;
    /* ≈ text-xs */

    /* Tablet (sm: >= 640px) */
    --fs-sm-tablet: 8px;
    --fs-base-tablet: 9px;
    --fs-lg-tablet: 10px;
    --fs-xl-tablet: 0.875rem;
    /* ≈ text-sm */

    /* Desktop (md: >= 768px) */
    --fs-sm-desktop: 9px;
    --fs-base-desktop: 10px;
    --fs-lg-desktop: 11px;
    --fs-xl-desktop: 1rem;
    /* ≈ text-base */
}

/* Apply the master font size to the root element.
   All Tailwind rem values (text-xs, text-sm, text-base…)
   are calculated relative to this, so they all scale together. */
html {
    font-size: var(--html-font-size);
}

/* ─────────────────────────────────────────────────────────────
   GLOBAL BUTTON COMPONENTS
   Use these classes in any blade template instead of repeating
   long Tailwind utility strings:

   Primary CTA  →  <button class="btn btn-primary">Save</button>
   Outline      →  <button class="btn btn-secondary">Cancel</button>
   Danger       →  <button class="btn btn-danger">Delete</button>
   Ghost        →  <button class="btn btn-ghost">Reset</button>
   Icon-only    →  <button class="btn btn-icon btn-sm">…svg…</button>
   Circle row   →  <button class="btn-circle btn-circle-indigo">…svg…</button>

   Sizes: btn-xs  btn-sm  (default=md)  btn-lg  btn-xl
───────────────────────────────────────────────────────────────── */
@layer components {

    /* ── Base shell (shared by every variant) ── */
    .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.375rem;
        padding: var(--btn-py) var(--btn-px);
        border-radius: var(--btn-radius);
        font-size: var(--btn-font-size);
        font-weight: var(--btn-font-weight);
        line-height: 1.25rem;
        border: 1px solid transparent;
        cursor: pointer;
        transition: var(--btn-transition);
        @apply active:scale-95 focus:outline-none;
    }

    /* Keep icons tight and unbolded inside buttons */
    .btn i,
    .btn svg {
        font-size: 0.875rem;
        /* ~14px — smaller than the hgi default 20px */
        flex-shrink: 0;
    }

    /* ── Variants ── */
    .btn-primary {
        @apply bg-indigo-600 text-white border-indigo-600 hover:bg-indigo-700 hover:border-indigo-700 shadow-sm shadow-indigo-200;
    }

    .btn-secondary {
        @apply bg-white text-gray-700 border-gray-300 hover:bg-gray-50;
    }

    .btn-danger {
        @apply bg-red-600 text-white border-red-600 hover:bg-red-700 shadow-sm shadow-red-200;
    }

    .btn-ghost {
        @apply bg-transparent text-gray-600 border-gray-200 hover:bg-gray-100;
    }

    /* ── Icon-only button ── */
    .btn-icon {
        padding: var(--btn-py) var(--btn-py);
        /* square */
        border-radius: var(--btn-radius-icon);
        @apply bg-white border border-gray-200 text-gray-500 hover:bg-gray-50;
    }

    /* ── Size modifiers: xs / sm / md (default) / lg / xl ── */
    .btn-xs {
        padding: var(--btn-py-xs) var(--btn-px-xs);
        font-size: 0.6875rem;
        /* ~11px */
    }

    .btn-sm {
        padding: var(--btn-py-sm) var(--btn-px-sm);
        font-size: 0.75rem;
    }

    /* .btn alone = md (set by base .btn) */
    .btn-lg {
        padding: var(--btn-py-lg) var(--btn-px-lg);
        font-size: 1rem;
    }

    .btn-xl {
        padding: var(--btn-py-xl) var(--btn-px-xl);
        font-size: 1.125rem;
    }

    /* ── Circle buttons (table action rows) ──
       Use instead of the w-8 h-8 rounded-full pattern */
    .btn-circle {
        @apply w-8 h-8 rounded-full flex items-center justify-center transition-colors;
    }

    .btn-circle-gray {
        @apply bg-gray-100 text-gray-600 hover:bg-gray-200;
    }

    .btn-circle-indigo {
        @apply bg-indigo-100 text-indigo-600 hover:bg-indigo-200;
    }

    .btn-circle-red {
        @apply bg-red-100 text-red-600 hover:bg-red-200;
    }

    .btn-circle-green {
        @apply bg-green-100 text-green-600 hover:bg-green-200;
    }

    .btn-circle-amber {
        @apply bg-amber-100 text-amber-600 hover:bg-amber-200;
    }
}

@layer components {
    /* =========================================
       GLOBAL COMPONENT DEFINITIONS
       ========================================= */

    /* -----------------------------------------
       1. MOBILE / BASE STYLES (Default < 640px)
       ----------------------------------------- */

    /* Button Base */
    .pos-btn-responsive {
        @apply py-1 px-2.5 font-bold rounded-md transition-all duration-200 active:scale-95 flex items-center justify-center;
        font-size: var(--fs-base);
    }

    /* Icon Button Base */
    .pos-btn-icon-responsive {
        @apply p-1 rounded-md transition-all duration-200 active:scale-95 flex items-center justify-center;
    }

    /* Input Base */
    .pos-input-responsive {
        @apply py-0.5 px-2 rounded-md border border-slate-200 bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-opacity-20 transition-all duration-200;
        font-size: var(--fs-base);
    }

    /* Text Sizes (Mobile) */
    .pos-text-responsive-sm {
        font-size: var(--fs-xs);
    }

    .pos-text-responsive-base {
        font-size: var(--fs-base);
    }

    .pos-text-responsive-lg {
        font-size: var(--fs-lg);
    }

    .pos-text-responsive-xl {
        font-size: var(--fs-xl);
    }

    /* Card Padding (Mobile) */
    .pos-card-padding {
        @apply p-1.5;
    }


    /* -----------------------------------------
       2. TABLET STYLES (sm: >= 640px)
       ----------------------------------------- */
    @screen sm {
        .pos-btn-responsive {
            @apply py-1.5 px-3 rounded-lg;
            font-size: var(--fs-base-tablet);
        }

        .pos-btn-icon-responsive {
            @apply p-1.5 rounded-lg;
        }

        .pos-input-responsive {
            @apply py-0.5 px-2.5 rounded-lg;
            font-size: var(--fs-base-tablet);
        }

        .pos-text-responsive-sm {
            font-size: var(--fs-sm-tablet);
        }

        .pos-text-responsive-base {
            font-size: var(--fs-base-tablet);
        }

        .pos-text-responsive-lg {
            font-size: var(--fs-lg-tablet);
        }

        .pos-text-responsive-xl {
            font-size: var(--fs-xl-tablet);
        }

        .pos-card-padding {
            @apply p-2;
        }
    }


    /* -----------------------------------------
       3. DESKTOP STYLES (md: >= 768px)
       ----------------------------------------- */
    @screen md {
        .pos-btn-responsive {
            @apply py-1.5 px-3.5;
            font-size: var(--fs-base-desktop);
        }

        .pos-btn-icon-responsive {
            @apply p-1.5;
        }

        .pos-input-responsive {
            @apply py-1 px-3;
            font-size: var(--fs-base-desktop);
        }

        .pos-text-responsive-sm {
            font-size: var(--fs-sm-desktop);
        }

        .pos-text-responsive-base {
            font-size: var(--fs-base-desktop);
        }

        .pos-text-responsive-lg {
            font-size: var(--fs-lg-desktop);
        }

        .pos-text-responsive-xl {
            font-size: var(--fs-xl-desktop);
        }

        .pos-card-padding {
            @apply p-2.5;
        }
    }
}

@layer utilities {
    .custom-scrollbar::-webkit-scrollbar {
        height: 4px;
        width: 4px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: #e2e8f0;
        border-radius: 9999px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background-color: #cbd5e1;
    }
}